"""
    5BM1 Practica 1: Genetic Algorithms
    Miranda Ferreyra Uriel
    Santiago Illoldi Francisco Javier
"""
import random

class Item:
    def __init__(self, name, weight, price):
        self.name = name
        self.weight = weight
        self.price = price

lista_objetos = [
    # Lista de objetos, con su peso y precio respectivamente
    Item("Decoy Detonators", 4, 10),
    Item("Love Potion", 2, 8),
    Item("Extendable Ears", 5, 12),
    Item("Skiving Snackbox", 5, 6),
    Item("Fever Fudge", 2, 3),
    Item("Puking Pastilles", 1.5, 2),
    Item("Nosebleed Nougat", 1, 2),
    
]

class Cromosoma:
    def __init__(self, lista_objetos):
        self.genes = []
        self.fitness = 0
        self.lista_objetos = lista_objetos
        self.CrearGenes()

    def CrearGenes(self):
        for _ in self.lista_objetos:
            self.genes.append(random.randint(0, 10))

    def Totales(self):
        peso_total = 0
        precio_total = 0
        for i, gen in enumerate(self.genes):
            print(f"{self.lista_objetos[i].name}: {gen}")
            peso_total += gen * self.lista_objetos[i].weight
            precio_total += gen * self.lista_objetos[i].price
        return peso_total, precio_total


        # Falta agregar aqui un buble que cuente todos los objetos del cromosoma

def GenPoblacion(cant_poblacion, lista_objetos, capacidad):
    poblacion = []
    #Este bucle (while) se ejecuta hasta que todos los elementos de la poblacion sean validos porque solo se agregan weyes cuando son validos"""
    while len(poblacion) < cant_poblacion:
        nCromosoma = Cromosoma(lista_objetos) # Cromosoma nuevo basado en la clase Cromosoma
        peso, _ = nCromosoma.Totales() # Obtener solo el peso

        if peso <= capacidad and VerRestricciones: # Si pesa menos de lo max permitido y cumple el resto de restricciones se agrega a la poblacion
            poblacion.append(nCromosoma) 
            
    return poblacion

restricciones = {
    1: 3,   # Objeto 2 (Love Potions) minimo 3
    3: 2    # Objeto 4 (Skiving Snackbox) minimo 2
}

def VerRestricciones(): #Pendiente (checar que el comosoma recibido cumpla las restricciones)
